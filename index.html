<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="Buy gift cards with Nimiq for Amazon ✔️ and 150+ more brands in USA, Canada, Australia & UK 💝">
    <meta name="keywords" content="Nimiq, buy, gift card, giftcard, online">

    <title>Nimiq Gift Cards</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@nimiq/style@v0.7.3/nimiq-style.min.css">
    <link rel="stylesheet" href="style.css">

    <meta property="og:url" content="https://nimiqgiftcards.com">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://nimiqgiftcards.com/icon.png">
</head>
<body class="home">
    <header>
        <a href="https://nimiq.com">
            <svg id="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 270 64"><defs><style>.cls-1{fill:url(#radial-gradient);}.cls-2{fill:#1f2348;}</style><radialGradient id="radial-gradient" cx="54.17" cy="63.17" r="72.02" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#ec991c"/><stop offset="1" stop-color="#e9b213"/></radialGradient></defs><title>Nimiq</title><path class="cls-1" d="M71.2,29l-15-26A6,6,0,0,0,51,0H21a6,6,0,0,0-5.19,3L.8,29a6,6,0,0,0,0,6l15,26A6,6,0,0,0,21,64H51a6,6,0,0,0,5.19-3l15-26A6,6,0,0,0,71.2,29Z"/><path class="cls-2" d="M124.5,13H131V51h-5L105.5,24.5V51H99V13h5l20.5,26.5Z"/><path class="cls-2" d="M144,51V13h7V51Z"/><path class="cls-2" d="M195.5,13H201V51h-6V27.5L184.75,51h-4.5L170,27.5V51h-6V13h5.5l13,29.75Z"/><path class="cls-2" d="M214,51V13h7V51Z"/><path class="cls-2" d="M267.76,42.34a15.86,15.86,0,0,1-8,7.59,21.09,21.09,0,0,0,3.05,4.1,38,38,0,0,0,4,3.72L262,61.5a29,29,0,0,1-4.82-4.38,31.82,31.82,0,0,1-4.07-5.67c-.28,0-1.1,0-1.61,0a19.67,19.67,0,0,1-9.89-2.36,15.71,15.71,0,0,1-6.4-6.8A23.51,23.51,0,0,1,233,32a22.34,22.34,0,0,1,2.24-10.34,15.87,15.87,0,0,1,6.42-6.8,21.8,21.8,0,0,1,19.73,0,15.71,15.71,0,0,1,6.4,6.8A22.6,22.6,0,0,1,270,32,23.33,23.33,0,0,1,267.76,42.34Zm-24.73,0a11.7,11.7,0,0,0,16.94,0c2-2.43,3-5.85,3-10.37s-1-8-3-10.39a11.78,11.78,0,0,0-16.94,0c-2,2.39-3,5.9-3,10.42S241,39.94,243,42.37Z"/></svg>
        </a>
        <a href="https://github.com/sisou/nimiqgiftcards.com" class="github">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
            Fork me on GitHub
        </a>
    </header>

    <div id="error-container" class="nq-red-bg">
        😔 &nbsp; <span id="error"></span> &nbsp;
        <span class="close" onclick="this.parentNode.style.display = 'none'">&times;</span>
    </div>

    <main class="home">
        <div class="content">
            <h1 class="headline">Nimiq Gift&nbsp;Cards</h1>
            <p class="about">Buy gift cards with Nimiq for 150+ brands in USA, Canada, Australia & UK.</p>
            <div class="nq-text minimum-value">$50 minimum value</div>
            <button class="nq-button light-blue" id="buy" disabled>Get your gift card</button>
        </div>
    </main>

    <footer>
        <small>Powered by</small>
        <a href="https://giftcards.bidali.com?r=7xUnj9bey">
            <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTQxcHgiIGhlaWdodD0iMzJweCIgdmlld0JveD0iMCAwIDE0MSAzMiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNDkuMiAoNTExNjApIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkxvZ28gLyBIb3Jpem9udGFsIC8gQ29sb3VyPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IkxvZ28tLy1Ib3Jpem9udGFsLS8tQ29sb3VyIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAtMS4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IkNpcmNsZXMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGNpcmNsZSBpZD0iT3ZhbCIgZmlsbD0iIzRCNERGMSIgY3g9IjEwIiBjeT0iMTAiIHI9IjEwIj48L2NpcmNsZT4KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwtQ29weSIgZmlsbD0iI0U0NTE3RiIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBtdWx0aXBseTsiIGN4PSIxMCIgY3k9IjIyIiByPSIxMCI+PC9jaXJjbGU+CiAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPHBhdGggZD0iTTMyLjM1NDcyMDgsMzMuMTExNDM1NyBMMjUsMzMuMTExNDM1NyBMMjUsMC45MzQ1MzIyMTEgTDMwLjYwNzk3NDYsMC45MzQ1MzIyMTEgQzM0LjY1MzA5MTMsMC45MzQ1MzIyMTEgMzcuNzAyMjA1NSwxLjY3NzY1ODAzIDM5Ljc1NTQwODYsMy4xNjM5MzE5NSBDNDEuODA4NjExOCw0LjY1MDIwNTg4IDQyLjgzNTE5NzksNi43NDE2ODM2OSA0Mi44MzUxOTc5LDkuNDM4NDI4MTQgQzQyLjgzNTE5NzksMTIuNTAyOTEwNSA0MS41NDgxMzQ3LDE0Ljc1NTI3MTIgMzguOTczOTY5NSwxNi4xOTU1Nzc5IEM0Mi43MTI2MzgsMTcuNjA1MjM5NyA0NC41ODE5NDQxLDIwLjI1NTk3NzIgNDQuNTgxOTQ0MSwyNC4xNDc4Njk3IEM0NC41ODE5NDQxLDI2LjkwNTkwMzggNDMuNTcwNjgwMSwyOS4wODkzMTQ3IDQxLjU0ODEyMTgsMzAuNjk4MTY4IEMzOS41MjU1NjM1LDMyLjMwNzAyMTIgMzYuNDYxMTI3MSwzMy4xMTE0MzU3IDMyLjM1NDcyMDgsMzMuMTExNDM1NyBaIE0zMi4zNjQ4NzE3LDMwLjk3MDk4MDIgQzMzLjgwNTE3ODQsMzAuOTcwOTgwMiA0MS40Mjg1OTkxLDMwLjY3MjcyNSA0Mi4zNzQzMzY4LDI0LjQyNTU3ODUgQzQyLjc1NDk2NDIsMjEuOTExMzEzNSA0MS40NTg4OTA1LDE5LjExNzY0MiAzNy4yMTI4NTYsMTcuNTA1MzE4NCBMMzQuNDczMDcyOSwxNi40NzMzMTA3IEwzNy44NzUzODExLDE0LjY2MzEzNDMgQzM5Ljk4OTg3MzksMTMuNDk4NjMxIDQwLjkzODg4NzcsMTAuOTk0NjYyMyA0MC43ODA3NjI3LDkuMDEzMTE4MzEgQzQwLjQ2ODY2NjQsNS4xMDIwODA0IDM3LjYwMjM5NDUsMy4wODgwMjI2MiAzMC4zNzAyMTYyLDMuMDg4MDIyNjIgTDI3LjEyOTU3MywzLjA4ODAyMjYyIEwyNy4xMjk1NzMsMzAuOTcwOTgwMiBMMzIuMzY0ODcxNywzMC45NzA5ODAyIFogTTUyLjkxMDIyOTUsMzMuMTE0NDM3OSBMNTAuNzg5MDQ3OSwzMy4xMTQ0Mzc5IEw1MC43ODkwNDc5LDAuOTM0NTMyMjExIEw1Mi45MTAyMjk1LDAuOTM0NTMyMjExIEw1Mi45MTAyMjk1LDMzLjExNDQzNzkgWiBNNjYuNTA4MjA1NSwzMy4xMTE0MzU3IEw2MS41NzE5NjE2LDMzLjExMTQzNTcgTDYxLjU3MTk2MTYsMC45MzQ1MzIyMTEgTDY2LjUwODIwNTUsMC45MzQ1MzIyMTEgQzcwLjkyMTA2MDEsMC45MzQ1MzIyMTEgNzQuNjU5NjcyNCwyLjU1ODY4MzQ4IDc3LjcyNDE1NDgsNS44MDcwMzQ3NCBDODAuNzg4NjM3MSw5LjA1NTM4NjAxIDgyLjMyMDg1NTMsMTIuNzkzOTk4NCA4Mi4zMjA4NTUzLDE3LjAyMjk4NCBDODIuMzIwODU1MywyMS4yNTE5Njk2IDgwLjc4ODYzNzEsMjQuOTkwNTgxOSA3Ny43MjQxNTQ4LDI4LjIzODkzMzIgQzc0LjY1OTY3MjQsMzEuNDg3Mjg0NSA3MC45MjEwNjAxLDMzLjExMTQzNTcgNjYuNTA4MjA1NSwzMy4xMTE0MzU3IFogTTY2LjM2NzYzMSwzMC45NDI2NTkzIEM2OC40ODYxODExLDMwLjk0MjY1OTMgNzEuOTA1Njk3MywzMC40MjMxNTE5IDc0Ljg2ODQ4NDcsMjcuNzEwMTQ1MiBDNzcuNTE5OTI2OCwyNS4yODIyMzU1IDc5Ljg0ODg5NTQsMjAuODgzMjAxMyA3OS44NDg4OTU0LDE3LjAxMDIyNzQgQzc5Ljg0ODg5NTQsMTIuOTMxODM0NSA3Ny43MTYyMTc5LDguNzc2NDI4MzcgNzQuODY4NDg0Nyw2LjMyMDY2Nzc3IEM3MS45OTAwNjY5LDMuODM4NDQ2MDcgNjguMzg1NjIzLDMuMDc3Nzk1NjMgNjYuMzY3NjMxLDMuMDc3Nzk1NjMgTDYzLjY5OTU2NzgsMy4wNzc3OTU2MyBMNjMuNjk5NTY3OCwzMC45NDI2NTkzIEw2Ni4zNjc2MzEsMzAuOTQyNjU5MyBaIE05MC41MzA4NTA0LDMwLjk3MTI0MjQgTDEwNi4xMjM0NjMsMzAuOTcxMjQyNCBMOTcuMDIxMjQ5Myw2LjMzNjY2MzgyIEw4Ny4zMDU1NDc3LDMzLjExMTQzNTcgTDg1LjE4OTA4NjIsMzMuMTExNDM1NyBMOTcuMDIxMjQ5MywwLjg4NTU0OTU1NyBMMTA4Ljg1MzQxMiwzMy4xMTE0MzU3IEw5MC41MzA4NTA0LDMzLjExMTQzNTcgTDkwLjUzMDg1MDQsMzAuOTcxMjQyNCBaIE0xMzMuNTE5MTk2LDMwLjk0MTQ3OTIgTDEzMy41MTkxOTYsMzMuMTExNDM1NyBMMTE0LjE4Mjg1MiwzMy4xMTE0MzU3IEwxMTQuMTgyODUyLDAuOTM0NTMyMjExIEwxMTYuMzI0NjE4LDAuOTM0NTMyMjExIEwxMTYuMzI0NjE4LDMwLjk0MTQ3OTIgTDEzMy41MTkxOTYsMzAuOTQxNDc5MiBaIE0xNDAuOTY4NTAyLDMzLjExNDQzNzkgTDEzOC45MDYyMzgsMzMuMTE0NDM3OSBMMTM4LjkwNjIzOCwwLjkzNDUzMjIxMSBMMTQwLjk2ODUwMiwwLjkzNDUzMjIxMSBMMTQwLjk2ODUwMiwzMy4xMTQ0Mzc5IFoiIGlkPSJCSURBTEkiIGZpbGw9IiM3MTcxODMiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==" alt="Bidali">
        </a>
    </footer>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Muli:400,600,700">

    <script type="text/javascript" src="https://commerce.bidali.com/commerce.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@nimiq/hub-api@v1/dist/standalone/HubApi.standalone.umd.js"></script>
    <script type="text/javascript">
        /** @type {HTMLButtonElement} */
        const $button = document.getElementById('buy');

        // All scripts are loaded at this point, so we can enable the button
        $button.disabled = false;

        buy.addEventListener('click', function() {
            // Start the Bidali gift card selection UI
            bidaliSdk.Commerce.render({
                apiKey: '<BIDALI_API_PUBLIC_KEY>',
                paymentCurrencies: ['NIM'],
                paymentType: 'prefill', // Let this app handle the transaction
                onPaymentRequest: (paymentRequest) => {
                    // Make sure users cannot click the main button again while we process the payment request
                    $button.disabled = true;

                    const { address, amount } = paymentRequest;
                    console.log('onPaymentRequest:', paymentRequest);

                    // Instantiate a Nimiq Hub client
                    const hub = new HubApi('https://hub.nimiq.com');

                    // Because the Bidali UI calls onPaymentRequest asynchronously, we cannot use a popup (popups can
                    // only be opened in the context of a user action), so we have to use a redirect.
                    //
                    // We pass the result.html page as its returnUrl.
                    // We store the paymentRequest object as data in the redirect, so the result.html page gets access
                    // to it in its response handler.
                    const redirectBehavior = new HubApi.RedirectRequestBehavior(
                        `${window.location.origin}/result.html`, paymentRequest);

                    // Finally, call checkout() with the request object
                    hub.checkout({
                        appName: 'nimiqgiftcards.com',
                        shopLogoUrl: `${window.location.origin}/shop-logo.png`,
                        recipient: address,
                        value: amount * 1e5, // amount is in NIM, but the Hub expects Luna
                        extraData: 'nimiqgiftcards.com',
                        validityDuration: 29, // Bidali quote is valid for 30 minutes
                    }, redirectBehavior); // Pass the redirectBehavior as the second argument
                },
            });
        });

        // Check for error passed in URL when redirected from result.html
        const params = new URLSearchParams(window.location.hash.substring(1));
        if (params.has('error')) {
            const $error = document.getElementById('error');
            $error.textContent = params.get('error');
            const $errorContainer = document.getElementById('error-container');
            $errorContainer.style.display = 'inline-block';
        }
    </script>
</body>
</html>
